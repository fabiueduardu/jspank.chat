<!DOCTYPE html>
<html lang="en" ng-app="app">

<head>
    <title>JSpank.Chat</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>

<body ng-controller="chat">
    <div class="container-fluid">
        <div class="container body-content">

            <h1><span class="glyphicon glyphicon-globe"></span> JSpank.Chat</h1>
            <div class="row">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title"><span class="glyphicon glyphicon-plus"></span> new chat</h3>
                        </div>
                        <div class="panel-body">
                            <form class="form-vertical" name="formNew" novalidate>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group has-feedback">
                                                <div ng-attr-class="{{formNew.isvalid && 'has-success' || 'has-error'}}">
                                                    <label class="sr-only" for="new_username">user name</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-user"></span>
                                                        </span>
                                                        <input required name="new_username" ng-model="new_username" type="text" class="form-control" placeholder="user name" maxlength="100"
                                                        />
                                                    </div>
                                                    <span ng-show="formNew.$submitted || formNew.new_username.$touched"> 
                                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formNew.isvalid && !formNew.new_username.$error.required"></span>
                                                    <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="!formNew.isvalid && formNew.new_username.$error.required"></span>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="form-group has-feedback">
                                                <div ng-attr-class="{{formNew.isvalid && 'has-success' || 'has-error'}}">
                                                    <label class="sr-only" for="new_host">hosting server</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-home"></span>
                                                        </span>
                                                        <input required name="new_host" ng-model="new_host" type="text" class="form-control" placeholder="hosting server" maxlength="2000"
                                                        />
                                                    </div>
                                                    <span ng-show="formNew.$submitted || formNew.new_host.$touched"> 
                                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formNew.isvalid
                                                    && !formNew.new_host.$error.required"></span>
                                                    <span class="glyphicon glyphicon-remove form-control-feedback
                                                   " ng-show="!formNew.isvalid && formNew.new_host.$error.required"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <button class="btn btn-primary btn-block" ng-click="submitNew(formNew)">new</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="formNew.message">
                                    <div class="alert alert-danger" role="alert">
                                        {{formNew.message}}
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <hr/>

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title"><span class="glyphicon glyphicon-align-justify"></span> read feed</h3>
                        </div>
                        <div class="panel-body">
                            <form class="form-vertical" name="formMe" novalidate>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group has-feedback">
                                                <div ng-attr-class="{{formMe.isvalid && 'has-success' || 'has-error'}}">
                                                    <label class="sr-only" for="me_feed">me feed</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-home"></span>
                                                        </span>
                                                        <input required name="me_feed" ng-model="me_feed" type="text" class="form-control" placeholder="me feed" maxlength="2000"
                                                        />
                                                    </div>
                                                    <span ng-show="formMe.$submitted || formMe.me_feed.$touched"> 
                                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formMe.isvalid
                                                    && !formMe.me_feed.$error.required"></span>
                                                    <span class="glyphicon glyphicon-remove form-control-feedback
                                                   " ng-show="!formMe.isvalid && formMe.me_feed.$error.required"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <button class="btn btn-primary btn-block" ng-click="submitMe(formMe)">get</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="formMe.message">
                                    <div class="alert alert-danger" role="alert">
                                        {{formMe.message}}
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <hr/>

                    <div class="alert" role="alert" ng-hide="me_chats.length">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">notification:</span>no records found
                    </div>
                    <div ng-hide="!me_chats.length">
                        <div class="panel panel-default" ng-show="post_host">
                            <div class="panel-heading">
                                <h3 class="panel-title"><span class="glyphicon glyphicon-cog"></span> read chat</h3>
                            </div>
                            <div class="panel-body">
                                <form class="form-vertical" name="formGet" novalidate>
                                    <div class="form-group">

                                        <div class="form-group has-feedback">
                                            <div class="input-group">
                                                <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-time"></span>
                                                </span>
                                                <select name="post_getseconds" ng-model="post_getseconds" class="form-control">
                                                <option value="0" selected="selected">manual</option>
                                                <option value="1">1 seconds</option>
                                                <option value="3">3 seconds</option>
                                                <option value="5">5 seconds</option>
                                                <option value="10">10 seconds</option>
                                    
                                            </select>
                                                <span class="input-group-addon">
                                              <a href="javascript:void(0);" ng-click="submitGet(formPost)" ng-attr-class="{{get_runner && 'glyphicon glyphicon-stop' || 'glyphicon glyphicon-play'}}"  ></a>
                                                    </span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-addon">{{post_getseconds_count}}</span>
                                            <input type="text" class="form-control" placeholder="share" value="{{current_host_console  + '#?dbid=' + post_dbid + '&host=' + post_host + '&username='+ username_friend }}">
                                            <span class="input-group-addon">
                                             <a href="{{current_host_console  + '#?dbid=' + post_dbid + '&host=' + post_host + '&username='+ username_friend }}" class="glyphicon glyphicon-share" target="_blank" title="click to share"></a>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-user"></span>
                                            </span>
                                            <input type="text" class="form-control" placeholder="username friend" ng-model="username_friend">
                                            <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-thumbs-up" ng-show="username_friend"></span>
                                            <span class="glyphicon glyphicon-info-sign" ng-show="!username_friend"></span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-show="formMe.message">
                                        <div class="alert alert-danger" role="alert">
                                            {{formMe.message}}
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item" ng-repeat="item in me_chats">
                                <span class="badge hidden">{{$index}}</span>
                                <span class="glyphicon glyphicon-comment"></span>
                                <a href="javascript:void(0);" ng-click="submitChat(item)" title="chat">{{item.description}}</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-9">
                    <div>
                        <form class="form-vertical" name="formPost" novalidate ng-init="submitPreGet(this)">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group has-feedback">
                                            <div ng-attr-class="{{formPost.isvalid && 'has-success' || 'has-error'}}">
                                                <label class="sr-only" for="post_dbid">dbid</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-wrench"></span>
                                                    </span>
                                                    <input required disabled="disabled" name="post_dbid" ng-model="post_dbid" type="text" class="form-control" placeholder="post dbid"
                                                        maxlength="36" />
                                                </div>
                                                <span ng-show="formPost.$submitted || formPost.post_dbid.$touched"> 
                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formPost.isvalid &&
                                                    !formPost.post_dbid.$error.required"></span>
                                                <span class="glyphicon glyphicon-remove form-control-feedback
                                                   " ng-show="!formPost.isvalid && formPost.post_dbid.$error.required"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group has-feedback">
                                            <div ng-attr-class="{{formPost.isvalid && 'has-success' || 'has-error'}}">
                                                <label class="sr-only" for="post_host">host</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-home"></span>
                                                    </span>
                                                    <input required disabled="disabled" name="post_host" ng-model="post_host" type="text" class="form-control" placeholder="post path"
                                                        maxlength="2000" />
                                                </div>
                                                <span ng-show="formPost.$submitted || formPost.post_host.$touched"> 
                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formPost.isvalid &&
                                                    !formPost.post_host.$error.required"></span>
                                                <span class="glyphicon glyphicon-remove form-control-feedback
                                                   " ng-show="!formPost.isvalid && formPost.post_host.$error.required"></span>
                                                </span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group has-feedback">
                                            <div ng-attr-class="{{formPost.isvalid && 'has-success' || 'has-error'}}">
                                                <label class="sr-only" for="username">user name</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-user"></span>
                                                    </span>

                                                    <input required name="post_username" ng-model="post_username" type="text
                                                   " class="form-control" placeholder="user name" maxlength="100" />
                                                </div>
                                                <span ng-show="formPost.$submitted || formPost.post_username.$touched"> 
                                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formPost.isvalid
                                                    && !formPost.post_username.$error.required"></span>
                                                <span class="glyphicon glyphicon-remove form-control-feedback
                                                   " ng-show="!formPost.isvalid && formPost.post_username.$error.required"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="sr-only" for="post_username_add">user name add</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-user"></span>
                                                    </span>
                                                    <input type="text" name="post_username_add" ng-model="post_username_add" class="form-control
                                                   " placeholder="username add" maxlength="100" />
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="sr-only" for="post_username_remove">user name remove</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-user"></span>
                                                    </span>
                                                    <input type="text" name="post_username_remove" ng-model="post_username_remove" class="form-control
                                                   " placeholder="username remove" maxlength="100" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-10">
                                        <div class="form-group has-feedback">
                                            <div ng-attr-class="{{formPost.isvalid && 'has-success' || 'has-error'}}">
                                                <label class="sr-only" for="post_post">post</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                               <span class="glyphicon glyphicon-comment"></span>
                                                    </span>
                                                    <textarea required name="post_post" ng-model="post_post" type="text" class="form-control
                                                   " rows="2" placeholder="post ..." maxlength="2000"></textarea>
                                                </div>
                                                <span ng-show="formPost.$submitted || formPost.post_post.$touched"> 
                                                <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="formPost.isvalid
                                                    && !formPost.post_post.$error.required"></span>
                                                <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="!formPost.isvalid
                                                    && formPost.post_post.$error.required"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <button class="btn btn-primary btn-block" ng-click="submitPost(formPost)">send</button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" ng-show="formPost.message">
                                <div class="alert alert-danger" role="alert">
                                    {{formPost.message}}
                                </div>
                            </div>

                            <hr/>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title"><span class="glyphicon glyphicon-comment"></span> Chat</h3>
                                </div>
                                <div class="alert" role="alert" ng-hide="me_chats_posts.length">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    <span class="sr-only">notification:</span>no records found
                                </div>
                                <table class="table table-striped" ng-hide="!me_chats_posts.length">
                                    <thead class="thead-inverse">
                                        <tr>
                                            <td>postid</td>
                                            <td>date</td>
                                            <td>user</td>
                                            <td>post</td>
                                        </tr>
                                    </thead>
                                    <tbody class="table-hover">
                                        <tr ng-repeat="item in me_chats_posts" data-postid={{item.postid}}>
                                            <td>{{item.postid}}</td>
                                            <td>{{item.datecreate}}</td>
                                            <td>{{item.username}}</td>
                                            <td>{{item.post}}
                                                <span ng-attr-class="{{post_username==item.username && 'glyphicon glyphicon-star pull-right' || 'glyphicon glyphicon-star-empty pull-right'}}"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="jspank.console.js"></script>
</body>

</html>